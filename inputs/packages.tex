\usepackage[DIV=12,BCOR=2mm,headinclude=true,footinclude=false]{typearea}
\usepackage{amsmath}
\usepackage{hyperref}
\usepackage{cleveref}
\usepackage{url}
\usepackage{physics}
\usepackage[T1]{fontenc}
% \usepackage{fontspec}
\usepackage{newpxtext,newpxmath}
\usepackage{glossaries}
\makenoidxglossaries
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{todonotes}
\usepackage{subcaption}
\usepackage[toc,page]{appendix}
\usepackage{multirow}
\usepackage{array,makecell}
\usepackage{adjustbox}
\usepackage{arydshln}
\usepackage{svg}
% if I want line numbers
\usepackage[left]{lineno}
\linenumbers

\usepackage{tikz}
\usepackage[compat=1.1.0]{tikz-feynman}
\usetikzlibrary{calc,positioning,shadows.blur,decorations.pathreplacing}
\usepackage{etoolbox}
\usepackage{enumitem}
\usepackage{siunitx}

% % make math bold in titles but not in TOC
% \usepackage{sectsty}
% \allsectionsfont{\boldmath}

\usepackage[backend=biber,
            hyperref=true,
            sortcites=true,
            url=false,
            isbn=false,
            backref=true,
            style=ieee,
            citereset=chapter,
            maxcitenames=3,
            maxbibnames=3,
            doi=true,
            dashed=false
            block=none]{biblatex}



            % ISBN field
\DeclareBibliographyDriver{book}{%
            \usebibmacro{bibindex}%
            \usebibmacro{begentry}%
            \usebibmacro{author/editor}%
            \setunit{\labelnamepunct}\newblock
            \usebibmacro{title}%
            \newunit
            \printlist{language}%
            \newunit\newblock
            \usebibmacro{byauthor}%
            \newunit\newblock
            \usebibmacro{publisher+location+date}%
            \newunit\newblock
            \space\printfield{isbn}% <-- add this line
            \newunit\newblock
            \usebibmacro{chapter+pages}%
            \newunit
            \printfield{pagetotal}%
            \newunit\newblock
            \iftoggle{bbx:isbn}
              {\printfield{issn}}
              {}%
            \newunit\newblock
            \usebibmacro{doi+eprint+url}%
            \newunit\newblock
            \usebibmacro{addendum+pubstate}%
            \setunit{\bibpagerefpunct}\newblock
            \usebibmacro{pageref}%
            \usebibmacro{finentry}}
          

% Collaboration field
\DeclareSourcemap{
    \maps[datatype=bibtex,overwrite=true]{
        \map{
        \step[fieldsource=Collaboration, final=true]
        \step[fieldset=usera, origfieldval, final=true]
        }
    }
    }
    \renewbibmacro*{author}{%
        \iffieldundef{usera}{%
        \printnames{author}%
        }{%
        \printnames{author}, \texttt{\printfield{usera}} collaboration%
        }%
    }%
    